<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>形近字学习助手</title>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>形近字学习助手</h1>
            <div class="subtitle">观察细节 · 区分字形 · 轻松学习</div>
        </div>
        
        <div class="settings-panel">
            <div class="file-upload">
                <h3>选择形近字库文件</h3>
                <p>请选择包含形近字组的TXT文件（一行一组）</p>
                <label for="fileInput" class="file-input-label">
                    <input type="file" id="fileInput" class="file-input" accept=".txt">
                    <span class="file-input-text">点击选择文件</span>
                </label>
            </div>
            <div class="preset-upload">
                <h3>或选择预设信息库</h3>
                <select id="presetFileSelect" >
                    <option value="">-- 请选择预设信息库 --</option>
                </select>
                
                <div id="presetStatus" style="margin-top: 6px; color: #546e7a; font-size: 0.9rem;"></div>
            </div>
        </div>
        
        <div class="time-setting">
            <h3>选择记忆时间</h3>
            <div class="time-options">
                <div class="time-option" data-time="0.5">0.5秒</div>
                <div class="time-option active" data-time="1">1秒</div>
                <div class="time-option" data-time="2">2秒</div>
                <div class="time-option" data-time="3">3秒</div>
            </div>
        </div>
        
        <div class="counter">1</div>
        
        <div class="game-container">
            <div class="character-display" id="characterDisplay">
                <div class="target-character">?</div>
            </div>
            
            <div class="options-container" id="optionsContainer">
                <!-- 选项将动态添加 -->
            </div>
            
            <div class="feedback" id="feedback">请选择字库文件并设置记忆时间</div>
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">当前得分</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="correct">0</div>
                <div class="stat-label">答对题数</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="total">0</div>
                <div class="stat-label">已出题数</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="totalQuestions">0</div>
                <div class="stat-label">总题数</div>
            </div>
        </div>
        
        <div class="controls">
            <button id="startBtn">开始学习</button>
            <button id="nextBtn" disabled>下一题</button>
            <button id="exportBtn" disabled>导出报告</button>
        </div>
        
        <div class="report-container" id="reportContainer">
            <div class="report-header">
                <div class="report-title">学习报告</div>
                <button class="close-report" id="closeReport">关闭</button>
            </div>
            <div class="report-content">
                <div class="report-header-row">
                    <div>目标字</div>
                    <div>字组</div>
                    <div>您的选择</div>
                    <div>结果</div>
                </div>
                <div id="reportItems"></div>
            </div>
        </div>
        
        <div class="instructions">
            <h3>学习说明</h3>
            <p>1. 选择形近字库TXT文件（一行一组形近字）</p>
            <p>2. 选择记忆时间（0.5秒、1秒、2秒或3秒）</p>
            <p>3. 点击"开始学习"按钮，屏幕上会显示一个汉字</p>
            <p>4. 您有设定的时间记住这个汉字的字形特点</p>
            <p>5. 时间到后显示多个形近字选项</p>
            <p>6. 从选项中找出刚才显示的汉字</p>
            <p>7. 完成后点击"下一题"继续，或点击"导出报告"保存学习结果</p>
        </div>
        
        <div class="celebration" id="celebration"></div>
    </div>

    <script src="js/script.js"></script>
</body>
</html>